@model CourseProject.Application.ViewModels.CreateTicketViewModel

@{
ViewData["Title"] = "Create ticket";
}

<h2>Create ticket</h2>

<form asp-action="CreateTicket" method="post" class="form-horizontal">
    <div class="form-group">
        <label asp-for="Summary" class="control-label">Summary:</label>
        <input asp-for="Summary" class="form-control" required />
    </div>

    <div class="form-group">
        <label asp-for="Priority" class="control-label">Priority:</label>
        <select asp-for="Priority" class="form-control">
            <option value="High">High</option>
            <option value="Medium">Medium</option>
            <option value="Low">Low</option>
        </select>
    </div>

    <input type="hidden" asp-for="PageUrl" value="@ViewContext.HttpContext.Request.Path" />

    <div class="form-group">
        <button type="submit" class="btn btn-primary">Create a ticket</button>
    </div>
</form>

@if (ViewBag.TicketUrl != null)
{
<div class="alert alert-success mt-4">
    <p>Ticket successfully created! You can view it at the link:</p>
    <a href="@ViewBag.TicketUrl" target="_blank">@ViewBag.TicketUrl</a>
</div>
}
else if (!ViewData.ModelState.IsValid)
{
<div class="alert alert-danger mt-4">
    <p>There was an error when creating a ticket. Please try again.</p>
</div>
}
